<html>
  
  
  <!--============= HEAD ============= -->
  <head>
  <meta charset="UTF-8">
  <title>Mapbox template</title>
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>
  


  <link href="css/custom.css?ver=1.0" rel="stylesheet">


<script>
$(document).ready(function() {

var id = '#dialog';

//Get the screen height and width
var maskHeight = $(document).height();
var maskWidth = $(window).width();

//Set heigth and width to mask to fill up the whole screen
$('#mask').css({'width':maskWidth,'height':maskHeight});

//transition effect
$('#mask').fadeIn(500);
$('#mask').fadeTo("slow",0.5);

//Get the window height and width
var winH = $(window).height();
var winW = $(window).width();

//Set the popup window to center
$(id).css('top',  winH/2-$(id).height()/2);
$(id).css('left', winW/2-$(id).width()/2);

//transition effect
$(id).fadeIn(2000);

//if close button is clicked
$('.window .close').click(function (e) {
//Cancel the link behavior
e.preventDefault();

$('#mask').hide();
$('.window').hide();
});

//if mask is clicked
$('#mask').click(function () {
$(this).hide();
$('.window').hide();
});

});
</script>

  </head>
  
  
    
  <!--============= BODY ============= -->
  
  <body>

  

    

      <!--=============== MAP =============== -->
      <div id='map' style='width: 400px; height: 300px;'></div>
      <script>
      mapboxgl.accessToken = 'pk.eyJ1IjoicGxhbm8tYyIsImEiOiJjajEyam41bWowNmF0MzNwZWduMXoxMmd4In0.S69rwtUIWB6EXgONLZbplw';
      var map = new mapboxgl.Map({
      container: 'map',
      center: [-122.420679, 37.772537],
      zoom: 13,
      style: style_object,
      hash: true,
      transformRequest: (url, resourceType)=> {
      if(resourceType == 'Source' && url.startsWith('http://myHost')) {
      return {
       url: url.replace('http', 'https'),
       headers: { 'my-custom-header': true},
       credentials: 'include'  // Include cookies for cross-origin requests
      }
      }
      }
      });
      </script>
      <!--=================================== -->

    </body>

    <script src="javascripts/chartConfig.js"></script>
    <script src="javascripts/map.js"></script>
    <script src="javascripts/timeline.js"></script>
    </html>
